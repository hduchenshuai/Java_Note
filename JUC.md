变量的线程安全分析

成员变量和静态变量是否线程安全？  

* 如果它们没有共享，则线程安全 
* 如果它们被共享了，根据它们的状态是否能够改变，又分两种情况 
  * 如果只有读操作，则线程安全 
  * 如果有读写操作，则这段代码是临界区，需要考虑线程安全  

局部变量是否线程安全？  

* 局部变量是线程安全的 
* 但局部变量引用的对象则未必 
  * 如果该对象没有逃离方法的作用访问，它是线程安全的
  * 如果该对象逃离方法的作用范围，需要考虑线程安全



常见线程安全类

* String 
* Integer
*  StringBuﬀer
*  Random 
* Vector
*  Hashtable 
* java.util.concurrent 包下的类 

这里说它们是线程安全的是指，多个线程调用它们同一个实例的某个方法时，是线程安全的。也可以理解为

* 它们的每个方法是原子的 

* 但注意它们多个方法的组合不是原子的